<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/layout :: adminHead">
    <meta charset="UTF-8">
</head>
<body>
<div th:replace="admin/layout :: layout">
    <div th:fragment="content" style="padding: 20px;">
        <h2 style="color: #1a3d7c;" th:text="#{usuarios.title}">Usuarios</h2>
        <a th:href="@{/admin/usuarios/nuevo}"
           style="display: inline-block; margin: 10px 0; background-color: #1a3d7c; color: white; padding: 8px 12px; border-radius: 4px; text-decoration: none;"
           th:text="#{usuarios.button.new}">
            ‚ûï Crear nuevo usuario
        </a>

        <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
            <thead style="background-color: #1a3d7c; color: white;">
            <tr>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.id}">ID</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.email}">Correo</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.name}">Nombre</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.lastname}">Apellido</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.username}">Username</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.phone}">Tel√©fono</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.dni}">DNI</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.roles}">Roles</th>
                <th style="padding: 8px;" th:text="#{usuarios.table.header.actions}">Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="usuario : ${usuarios}" style="border-bottom: 1px solid #ddd;">
                <td th:text="${usuario.id}" style="padding: 8px;"></td>
                <td th:text="${usuario.email}" style="padding: 8px;"></td>
                <td th:text="${usuario.name}" style="padding: 8px;"></td>
                <td th:text="${usuario.lastName}" style="padding: 8px;"></td>
                <td th:text="${usuario.username}" style="padding: 8px;"></td>
                <td th:text="${usuario.phone}" style="padding: 8px;"></td>
                <td th:text="${usuario.identificationNumber}" style="padding: 8px;"></td>
                <td style="padding: 8px;">
                    <span th:each="rol : ${usuario.roles}"
                          th:text="${rol.role}"
                          style="display: inline-block; background-color: #eee; padding: 2px 6px; margin: 2px; border-radius: 4px; font-size: 12px;"></span>
                </td>
                <td style="padding: 8px;">
                    <a th:href="@{'/admin/usuarios/editar/' + ${usuario.id}}"
                       style="margin-right: 8px; text-decoration: none;"
                       th:text="#{usuarios.action.edit}">‚úèÔ∏è Editar</a>
                    <a th:href="@{'/admin/usuarios/eliminar/' + ${usuario.id}}"
                       th:onclick="'return confirm(\'' + #{usuarios.delete.confirm} + '\')'"
                       style="text-decoration: none;"
                       th:text="#{usuarios.action.delete}">üóëÔ∏è Eliminar</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>