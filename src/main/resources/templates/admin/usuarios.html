<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/layout :: adminHead"></head>
<body>
<div th:replace="admin/layout :: layout">
    <div th:fragment="content" style="padding: 20px;">
        <h2 style="color: #1a3d7c;">Usuarios</h2>
        <a th:href="@{/admin/usuarios/nuevo}"
           style="display: inline-block; margin: 10px 0; background-color: #1a3d7c; color: white; padding: 8px 12px; border-radius: 4px; text-decoration: none;">
            ‚ûï Crear nuevo usuario
        </a>

        <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
            <thead style="background-color: #1a3d7c; color: white;">
            <tr>
                <th style="padding: 8px;">ID</th>
                <th style="padding: 8px;">Correo</th>
                <th style="padding: 8px;">Nombre</th>
                <th style="padding: 8px;">Apellido</th>
                <th style="padding: 8px;">Username</th>
                <th style="padding: 8px;">Tel√©fono</th>
                <th style="padding: 8px;">DNI</th>
                <th style="padding: 8px;">Roles</th>
                <th style="padding: 8px;">Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="usuario : ${usuarios}" style="border-bottom: 1px solid #ddd;">
                <td th:text="${usuario.id}" style="padding: 8px;"></td>
                <td th:text="${usuario.email}" style="padding: 8px;"></td>
                <td th:text="${usuario.name}" style="padding: 8px;"></td>
                <td th:text="${usuario.lastName}" style="padding: 8px;"></td>
                <td th:text="${usuario.username}" style="padding: 8px;"></td>
                <td th:text="${usuario.phone}" style="padding: 8px;"></td>
                <td th:text="${usuario.identificationNumber}" style="padding: 8px;"></td>
                <td style="padding: 8px;">
                    <span th:each="rol : ${usuario.roles}"
                          th:text="${rol.role}"
                          style="display: inline-block; background-color: #eee; padding: 2px 6px; margin: 2px; border-radius: 4px; font-size: 12px;"></span>
                </td>
                <td style="padding: 8px;">
                    <a th:href="@{'/admin/usuarios/editar/' + ${usuario.id}}"
                       style="margin-right: 8px; text-decoration: none;">‚úèÔ∏è Editar</a>
                    <a th:href="@{'/admin/usuarios/eliminar/' + ${usuario.id}}"
                       onclick="return confirm('¬øEst√°s seguro de eliminar este usuario?')" style="text-decoration: none;">üóëÔ∏è Eliminar</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
